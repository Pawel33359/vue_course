(function(e){function t(t){for(var r,u,l=t[0],i=t[1],o=t[2],p=0,d=[];p<l.length;p++)u=l[p],Object.prototype.hasOwnProperty.call(a,u)&&a[u]&&d.push(a[u][0]),a[u]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);s&&s(t);while(d.length)d.shift()();return c.push.apply(c,o||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,l=1;l<n.length;l++){var i=n[l];0!==a[i]&&(r=!1)}r&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},c=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var s=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"35ff":function(e,t,n){},4426:function(e,t,n){e.exports=n.p+"img/ninja.97cf2f9f.png"},"4d9c":function(e,t,n){},"55c1":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:"content"};function c(e,t,n,c,u,l){var i=Object(r["w"])("Navbar"),o=Object(r["w"])("router-view");return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])(i),Object(r["g"])("div",a,[Object(r["g"])(o)])],64)}var u=n("4426"),l=n.n(u),i=Object(r["G"])("data-v-a66f1416");Object(r["s"])("data-v-a66f1416");var o={class:"navbar"},s=Object(r["g"])("img",{src:l.a},null,-1),p=Object(r["f"])("Muso Ninjas"),d={class:"links"},b={key:0},j=Object(r["f"])("Create Playlist"),O=Object(r["f"])("My Playlists"),v={key:1},f=Object(r["f"])("Signup"),g=Object(r["f"])("Login");Object(r["q"])();var m=i((function(e,t,n,a,c,u){var l=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("div",o,[Object(r["g"])("nav",null,[s,Object(r["g"])("h1",null,[Object(r["g"])(l,{to:{name:"Home"}},{default:i((function(){return[p]})),_:1})]),Object(r["g"])("div",d,[a.user?(Object(r["p"])(),Object(r["d"])("div",b,[Object(r["g"])(l,{to:{name:"CreatePlaylist"}},{default:i((function(){return[j]})),_:1}),Object(r["g"])(l,{to:{name:"UserPlaylists"}},{default:i((function(){return[O]})),_:1}),Object(r["g"])("span",null,"Hi there, "+Object(r["y"])(a.user.displayName),1),Object(r["g"])("button",{onClick:t[1]||(t[1]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})},"Logout")])):(Object(r["p"])(),Object(r["d"])("div",v,[Object(r["g"])(l,{class:"btn",to:{name:"Signup"}},{default:i((function(){return[f]})),_:1}),Object(r["g"])(l,{class:"btn",to:{name:"Login"}},{default:i((function(){return[g]})),_:1})]))])])])})),h=n("1da1"),y=(n("96cf"),n("260b")),w=(n("e71f"),n("ea7b"),n("588e"),{apiKey:"AIzaSyAksJQ4_cdn1S1Vm5YdlLpLobm_6x8F5bQ",authDomain:"muso-ninjas-f78f7.firebaseapp.com",projectId:"muso-ninjas-f78f7",storageBucket:"muso-ninjas-f78f7.appspot.com",messagingSenderId:"532611511621",appId:"1:532611511621:web:296120d1f614b140ec7a2c"});y["a"].initializeApp(w);var k=y["a"].firestore(),x=y["a"].auth(),P=y["a"].storage(),S=y["a"].firestore.FieldValue.serverTimestamp,C=Object(r["u"])(null),R=Object(r["u"])(!1),A=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C.value=null,R.value=!0,e.prev=2,e.next=5,x.signOut();case 5:R.value=!1,e.next=13;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log(e.t0.message),C.value=e.t0.message,R.value=!1;case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),U=function(){return{error:C,logout:A,isPending:R}},E=U,_=Object(r["u"])(x.currentUser);x.onAuthStateChanged((function(e){console.log("User state change. Current user is:",e),_.value=e}));var D=function(){return{user:_}},L=D,I=n("6c02"),N={setup:function(){var e=Object(I["c"])(),t=E(),n=t.error,r=t.logout,a=t.isPending,c=L(),u=c.user,l=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:console.log("user logged out"),e.push({name:"Login"});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{handleClick:l,error:n,isPending:a,user:u}}};n("c6d9");N.render=m,N.__scopeId="data-v-a66f1416";var V=N,F={components:{Navbar:V}};n("59f8");F.render=c;var M=F,q={class:"home"},H={key:0,class:"error"},B={key:1};function G(e,t,n,a,c,u){var l=Object(r["w"])("ListView");return Object(r["p"])(),Object(r["d"])("div",q,[a.error?(Object(r["p"])(),Object(r["d"])("div",H,"Could not fetch the data")):Object(r["e"])("",!0),a.documents?(Object(r["p"])(),Object(r["d"])("div",B,[Object(r["g"])(l,{playlists:a.documents},null,8,["playlists"])])):Object(r["e"])("",!0)])}var J=Object(r["G"])("data-v-80dc61d8");Object(r["s"])("data-v-80dc61d8");var T={class:"single"},z={class:"thumbnail"},Q={class:"info"},W={class:"song-number"};Object(r["q"])();var K=J((function(e,t,n,a,c,u){var l=Object(r["w"])("router-link");return Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(n.playlists,(function(e){return Object(r["p"])(),Object(r["d"])("div",{key:e.id},[Object(r["g"])(l,{to:{name:"PlaylistDetails",params:{id:e.id}}},{default:J((function(){return[Object(r["g"])("div",T,[Object(r["g"])("div",z,[Object(r["g"])("img",{src:e.coverUrl},null,8,["src"])]),Object(r["g"])("div",Q,[Object(r["g"])("h3",null,Object(r["y"])(e.title),1),Object(r["g"])("p",null,"Created By "+Object(r["y"])(e.userName),1)]),Object(r["g"])("div",W,[Object(r["g"])("p",null,Object(r["y"])(e.songs.length),1)])])]})),_:2},1032,["to"])])})),128)})),Y={props:["playlists"]};n("7653");Y.render=K,Y.__scopeId="data-v-80dc61d8";var X=Y,Z=n("5530"),$=n("2909"),ee=(n("159b"),function(e,t){var n,a=Object(r["u"])(null),c=Object(r["u"])(null),u=k.collection(e).orderBy("createdAt");t&&(u=(n=u).where.apply(n,Object($["a"])(t)));var l=u.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){e.data().createdAt&&t.push(Object(Z["a"])(Object(Z["a"])({},e.data()),{},{id:e.id}))})),a.value=t,c.value=null}),(function(e){console.log(e.message),a.value=null,c.value="could not fetch the data"}));return Object(r["C"])((function(e){e((function(){return l()}))})),{error:c,documents:a}}),te=ee,ne={name:"Home",components:{ListView:X},setup:function(){var e=te("playlists"),t=e.error,n=e.documents;return{error:t,documents:n}}};ne.render=G;var re=ne,ae=Object(r["g"])("h3",null,"Login",-1),ce={key:0,class:"error"},ue={key:1},le={key:2,disabled:""};function ie(e,t,n,a,c,u){return Object(r["p"])(),Object(r["d"])("form",{onSubmit:t[3]||(t[3]=Object(r["F"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[ae,Object(r["E"])(Object(r["g"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e})},null,512),[[r["A"],a.email]]),Object(r["E"])(Object(r["g"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e})},null,512),[[r["A"],a.password]]),a.error?(Object(r["p"])(),Object(r["d"])("div",ce,Object(r["y"])(a.error),1)):Object(r["e"])("",!0),a.isPending?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",ue,"Log in")),a.isPending?(Object(r["p"])(),Object(r["d"])("button",le,"Loading")):Object(r["e"])("",!0)],32)}var oe=Object(r["u"])(null),se=Object(r["u"])(!1),pe=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return oe.value=null,se.value=!0,e.prev=2,e.next=5,x.signInWithEmailAndPassword(t,n);case 5:return r=e.sent,oe.value=null,se.value=!1,e.abrupt("return",r);case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0.message),oe.value="Incorrect login credentials",se.value=!1;case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){return{error:oe,login:pe,isPending:se}},be=de,je=n("a1e9"),Oe={setup:function(){var e=be(),t=e.error,n=e.login,r=e.isPending,a=Object(I["c"])(),c=Object(je["k"])(""),u=Object(je["k"])(""),l=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(c.value,u.value);case 2:e.sent,t.value||a.push({name:"UserPlaylists"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:c,password:u,handleSubmit:l,error:t,isPending:r}}};Oe.render=ie;var ve=Oe,fe=Object(r["g"])("h3",null,"Signup",-1),ge={key:0,class:"error"},me={key:1},he={key:2,disabled:""};function ye(e,t,n,a,c,u){return Object(r["p"])(),Object(r["d"])("form",{onSubmit:t[4]||(t[4]=Object(r["F"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[fe,Object(r["E"])(Object(r["g"])("input",{type:"text",placeholder:"Display Name","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.displayName=e})},null,512),[[r["A"],a.displayName]]),Object(r["E"])(Object(r["g"])("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.email=e})},null,512),[[r["A"],a.email]]),Object(r["E"])(Object(r["g"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.password=e})},null,512),[[r["A"],a.password]]),a.error?(Object(r["p"])(),Object(r["d"])("div",ge,Object(r["y"])(a.error),1)):Object(r["e"])("",!0),a.isPending?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",me,"Sign up")),a.isPending?(Object(r["p"])(),Object(r["d"])("button",he,"Loading")):Object(r["e"])("",!0)],32)}var we=Object(r["u"])(null),ke=Object(r["u"])(!1),xe=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return we.value=null,ke.value=!0,e.prev=2,e.next=5,x.createUserWithEmailAndPassword(t,n);case 5:if(a=e.sent,a){e.next=8;break}throw new Error("Could not complete signup");case 8:return e.next=10,a.user.updateProfile({displayName:r});case 10:return we.value=null,ke.value=!1,e.abrupt("return",a);case 15:e.prev=15,e.t0=e["catch"](2),console.log(e.t0.message),we.value=e.t0.message,ke.value=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Pe=function(){return{error:we,signup:xe,isPending:ke}},Se=Pe,Ce={setup:function(){var e=Se(),t=e.error,n=e.signup,r=e.isPending,a=Object(I["c"])(),c=Object(je["k"])(""),u=Object(je["k"])(""),l=Object(je["k"])(""),i=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n(c.value,u.value,l.value);case 2:e.sent,t.value||a.push({name:"UserPlaylists"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{email:c,password:u,displayName:l,handleSubmit:i,error:t,isPending:r}}};Ce.render=ye;var Re=Ce,Ae=(n("a4d3"),n("e01a"),Object(r["g"])("h4",null,"Create New Playlist",-1)),Ue=Object(r["g"])("label",null,"Upload playlist cover image",-1),Ee={class:"error"},_e=Object(r["g"])("div",{class:"error"},null,-1),De={key:0},Le={key:1,disabled:""};function Ie(e,t,n,a,c,u){return Object(r["p"])(),Object(r["d"])("form",{onSubmit:t[4]||(t[4]=Object(r["F"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[Ae,Object(r["E"])(Object(r["g"])("input",{type:"text",required:"",placeholder:"Playlist title","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.title=e})},null,512),[[r["A"],a.title]]),Object(r["E"])(Object(r["g"])("textarea",{required:"",placeholder:"Playlist description...","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.description=e})},null,512),[[r["A"],a.description]]),Ue,Object(r["g"])("input",{type:"file",onChange:t[3]||(t[3]=function(){return a.handleChange&&a.handleChange.apply(a,arguments)})},null,32),Object(r["g"])("div",Ee,Object(r["y"])(a.fileError),1),_e,a.isPending?(Object(r["p"])(),Object(r["d"])("button",Le,"Saving...")):(Object(r["p"])(),Object(r["d"])("button",De,"Create"))],32)}n("caad"),n("99af"),n("b0c0");var Ne=L(),Ve=Ne.user,Fe=function(){var e=Object(r["u"])(null),t=Object(r["u"])(null),n=Object(r["u"])(null),a=function(){var r=Object(h["a"])(regeneratorRuntime.mark((function r(a){var c,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.value="covers/".concat(Ve.value.uid,"/").concat(a.name),c=P.ref(n.value),r.prev=2,r.next=5,c.put(a);case 5:return u=r.sent,r.next=8,u.ref.getDownloadURL();case 8:t.value=r.sent,r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](2),console.log(r.t0.message),e.value=r.t0;case 15:case"end":return r.stop()}}),r,null,[[2,11]])})));return function(e){return r.apply(this,arguments)}}(),c=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=P.ref(n),t.prev=1,t.next=4,r.delete();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0.message),e.value=t.t0.message;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return{uploadImage:a,url:t,filePath:n,error:e,deleteImage:c}},Me=Fe,qe=function(e){var t=Object(r["u"])(null),n=Object(r["u"])(!1),a=function(){var r=Object(h["a"])(regeneratorRuntime.mark((function r(a){var c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.value=null,n.value=!0,r.prev=2,r.next=5,k.collection(e).add(a);case 5:return c=r.sent,n.value=!1,r.abrupt("return",c);case 10:r.prev=10,r.t0=r["catch"](2),console.log(r.t0.message),t.value="could not send the message",n.value=!1;case 15:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(e){return r.apply(this,arguments)}}();return{error:t,addDoc:a,isPending:n}},He=qe,Be={setup:function(){var e=Me(),t=e.filePath,n=e.url,a=e.uploadImage,c=He("playlists"),u=c.error,l=c.addDoc,i=L(),o=i.user,s=Object(I["c"])(),p=Object(r["u"])(""),d=Object(r["u"])(""),b=Object(r["u"])(null),j=Object(r["u"])(null),O=Object(r["u"])(!1),v=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!b.value){e.next=9;break}return O.value=!0,e.next=4,a(b.value);case 4:return e.next=6,l({title:p.value,description:d.value,userId:o.value.uid,userName:o.value.displayName,coverUrl:n.value,filePath:t.value,songs:[],createdAt:S()});case 6:r=e.sent,O.value=!1,u.value||s.push({name:"PlaylistDetails",params:{id:r.id}});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=["image/png","image/jpeg"],g=function(e){var t=e.target.files[0];console.log(t),t&&f.includes(t.type)?(b.value=t,j.value=null):(b.value=null,j.value="Please select an image file(png or jpeg)")};return{title:p,description:d,handleSubmit:v,handleChange:g,fileError:j,isPending:O}}};n("e67e");Be.render=Ie;var Ge=Be,Je={key:0,class:"error"},Te={key:1,class:"playlist-details"},ze={class:"playlist-info"},Qe={class:"cover"},We={class:"username"},Ke={class:"description"},Ye={class:"song-list"},Xe={key:0},Ze={class:"details"};function $e(e,t,n,a,c,u){var l=Object(r["w"])("AddSong");return Object(r["p"])(),Object(r["d"])(r["a"],null,[a.error?(Object(r["p"])(),Object(r["d"])("div",Je,Object(r["y"])(a.error),1)):Object(r["e"])("",!0),a.playlist?(Object(r["p"])(),Object(r["d"])("div",Te,[Object(r["g"])("div",ze,[Object(r["g"])("div",Qe,[Object(r["g"])("img",{src:a.playlist.coverUrl},null,8,["src"])]),Object(r["g"])("h2",null,Object(r["y"])(a.playlist.title),1),Object(r["g"])("p",We,"Created by "+Object(r["y"])(a.playlist.userName),1),Object(r["g"])("p",Ke,Object(r["y"])(a.playlist.description),1),a.ownership?(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:t[1]||(t[1]=function(){return a.handleDelete&&a.handleDelete.apply(a,arguments)})},"Delete Playlist")):Object(r["e"])("",!0)]),Object(r["g"])("div",Ye,[a.playlist.songs.length?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("div",Xe,"No songs have been added to this playlist yet")),(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(a.playlist.songs,(function(e){return Object(r["p"])(),Object(r["d"])("div",{key:e.id,class:"single-song"},[Object(r["g"])("div",Ze,[Object(r["g"])("h3",null,Object(r["y"])(e.title),1),Object(r["g"])("p",null,Object(r["y"])(e.artist),1)]),a.ownership?(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:function(t){return a.handleClick(e.id)}},"Delete",8,["onClick"])):Object(r["e"])("",!0)])})),128)),a.ownership?(Object(r["p"])(),Object(r["d"])(l,{key:1,playlist:a.playlist},null,8,["playlist"])):Object(r["e"])("",!0)])])):Object(r["e"])("",!0)],64)}n("4de4");var et=Object(r["G"])("data-v-2a14aed1");Object(r["s"])("data-v-2a14aed1");var tt={class:"add-song"},nt=Object(r["g"])("h4",null,"Add a New Song",-1),rt=Object(r["g"])("button",null,"Add",-1);Object(r["q"])();var at=et((function(e,t,n,a,c,u){return Object(r["p"])(),Object(r["d"])("div",tt,[a.showForm?(Object(r["p"])(),Object(r["d"])("form",{key:1,onSubmit:t[4]||(t[4]=Object(r["F"])((function(){return a.handleSubmit&&a.handleSubmit.apply(a,arguments)}),["prevent"]))},[nt,Object(r["E"])(Object(r["g"])("input",{type:"text",placeholder:"Song title","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.title=e}),required:""},null,512),[[r["A"],a.title]]),Object(r["E"])(Object(r["g"])("input",{type:"text",placeholder:"Artist","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.artist=e}),required:""},null,512),[[r["A"],a.artist]]),rt],32)):(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:t[1]||(t[1]=function(e){return a.showForm=!0})},"Add Songs"))])})),ct=function(e,t){var n=Object(je["k"])(null),r=Object(je["k"])(!1),a=k.collection(e).doc(t),c=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,n.value=null,e.prev=2,e.next=5,a.delete();case 5:return t=e.sent,r.value=!1,e.abrupt("return",t);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),r.value=!1,n.value="Could not delete the document";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.value=!0,n.value=null,e.prev=2,e.next=5,a.update(t);case 5:return c=e.sent,r.value=!1,e.abrupt("return",c);case 10:e.prev=10,e.t0=e["catch"](2),console.log(e.t0.message),r.value=!1,n.value="Could not update the document";case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return{error:n,isPending:r,deleteDoc:c,updateDoc:u}},ut=ct,lt={props:["playlist"],setup:function(e){var t=Object(je["k"])(""),n=Object(je["k"])(""),r=Object(je["k"])(!1),a=ut("playlists",e.playlist.id),c=a.updateDoc,u=function(){var r=Object(h["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={title:t.value,artist:n.value,id:Math.floor(1e6*Math.random())},r.next=3,c({songs:[].concat(Object($["a"])(e.playlist.songs),[a])});case 3:t.value="",n.value="";case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return{title:t,artist:n,showForm:r,handleSubmit:u}}};n("c3fa");lt.render=at,lt.__scopeId="data-v-2a14aed1";var it=lt,ot=function(e,t){var n=Object(r["u"])(null),a=Object(r["u"])(null),c=k.collection(e).doc(t),u=c.onSnapshot((function(e){e.data()?(n.value=Object(Z["a"])(Object(Z["a"])({},e.data()),{},{id:e.id}),a.value=null):a.value="that document does not exist"}),(function(e){console.log(e.message),a.value="could not fetch the data"}));return Object(r["C"])((function(e){e((function(){return u()}))})),{error:a,document:n}},st=ot,pt=n("5c40"),dt={props:["id"],components:{AddSong:it},setup:function(e){var t=st("playlists",e.id),n=t.error,r=t.document,a=L(),c=a.user,u=ut("playlists",e.id),l=u.deleteDoc,i=u.updateDoc,o=Me(),s=o.deleteImage,p=Object(I["c"])(),d=Object(pt["e"])((function(){return r.value&&c.value&&c.value.uid==r.value.userId})),b=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s(r.value.filePath);case 2:return e.next=4,l();case 4:p.push({name:"Home"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.value.songs.filter((function(e){return e.id!=t})),e.next=3,i({songs:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{error:n,playlist:r,ownership:d,handleDelete:b,handleClick:j}}};n("8c28");dt.render=$e;var bt=dt,jt={class:"user-playlists"},Ot=Object(r["g"])("h2",null,"My Playlists",-1),vt={key:0},ft=Object(r["f"])("Create a new Playlist");function gt(e,t,n,a,c,u){var l=Object(r["w"])("ListView"),i=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("div",jt,[Ot,a.playlists?(Object(r["p"])(),Object(r["d"])("div",vt,[Object(r["g"])(l,{playlists:a.playlists},null,8,["playlists"])])):Object(r["e"])("",!0),Object(r["g"])(i,{to:{name:"CreatePlaylist"},class:"btn"},{default:Object(r["D"])((function(){return[ft]})),_:1})])}var mt={components:{ListView:X},setup:function(){var e=L(),t=e.user,n=te("playlists",["userId","==",t.value.uid]),r=n.documents;return{playlists:r}}};mt.render=gt;var ht,yt=mt,wt=function(e,t,n){var r=x.currentUser;r?n():n({name:"Login"})},kt=[{path:"/",name:"Home",component:re,beforeEnter:wt},{path:"/login",name:"Login",component:ve},{path:"/signup",name:"Signup",component:Re},{path:"/playlists/create",name:"CreatePlaylist",component:Ge,beforeEnter:wt},{path:"/playlists/:id",name:"PlaylistDetails",component:bt,props:!0,beforeEnter:wt},{path:"/playlists/user",name:"UserPlaylists",component:yt,beforeEnter:wt}],xt=Object(I["a"])({history:Object(I["b"])("/"),routes:kt}),Pt=xt;n("845f");x.onAuthStateChanged((function(){ht||(ht=Object(r["c"])(M).use(Pt).mount("#app"))}))},"59f8":function(e,t,n){"use strict";n("8842")},7653:function(e,t,n){"use strict";n("fb21")},"845f":function(e,t,n){},8842:function(e,t,n){},"8c28":function(e,t,n){"use strict";n("4d9c")},"98cb":function(e,t,n){},c3fa:function(e,t,n){"use strict";n("35ff")},c6d9:function(e,t,n){"use strict";n("98cb")},e67e:function(e,t,n){"use strict";n("55c1")},fb21:function(e,t,n){}});
//# sourceMappingURL=app.352a17ce.js.map